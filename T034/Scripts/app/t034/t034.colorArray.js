var colorArray = [
{
    code: '#000000', name: 'black',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-black.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ffffff', name: 'white',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-white.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ff0000', name: 'red',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-red.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#00ff00', name: 'lime',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-lime.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#0000ff', name: 'blue',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-blue.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ffff00', name: 'yellow',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-yellow.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#00ffff', name: 'aqua',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-aqua.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ff00ff', name: 'magenta',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-magenta.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#c0c0c0', name: 'silver',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-silver.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#808080', name: 'gray',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-gray.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#800000', name: 'maroon',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-maroon.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#808000', name: 'olive',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-olive.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#008000', name: 'green',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-green.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#800080', name: 'purple',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-purple.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#008080', name: 'teal',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-teal.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#000080', name: 'navy',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-navy.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#dc143c', name: 'crimson',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-crimson.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ff1493', name: 'deeppink',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-deeppink.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#ff7f50', name: 'coral',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-coral.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#4b0082', name: 'indigo',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-indigo.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#228b22', name: 'forestgreen',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-forestgreen.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#66cdaa', name: 'mediumaquamarine',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-mediumaquamarine.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
},
{
    code: '#7fffd4', name: 'aquamarine',
    icon: new L.Icon({
        iconUrl: '/Content/leaflet-color-markers/marker-icon-2x-aquamarine.png',
        shadowUrl: '/Content/leaflet/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    })
}
]

//var colorArray = [
//    black,
//    //--white,
//    red,
//    lime,
//    blue,
//    yellow,
//    aqua,
//    magenta,
//  //!!  silver,
//   //!! gray,
//    maroon,
//   //!! olive,
//    green,
//    purple,
//    teal,
//    navy
//];

// возвращает номер цвета по коду элемента itemId из массива itemIdColorIndex
// если в массиве нет, то берёт из colorArray
function getColorByItemId(itemIdColorIndex, itemId) {

    var i = 0;
    if (itemIdColorIndex.length > 0) {
        //ищем соответствие ЗП иконка
        var arr = jQuery.grep(itemIdColorIndex, function (item, index) {
            return (item.ItemId === itemId);
        });

        if (arr.length > 0)
            i = arr[0].ColorIndex;
        else {
            // берём количество соответствий
            i = itemIdColorIndex.length;
        }
        if (i >= colorArray.length)
            i = i % colorArray.length;// остаток от деления
    }
    return i;
}


// возвращает L.Icon по наименованю цвета
function getIconByColorName(colorName) {

    var arr = jQuery.grep(colorArray, function (item, index) {
        return (item.name === colorName);
    });

    if (arr.length > 0)
        return arr[0].icon;
    else {
        return new L.Icon();
    }
}